@inherits LayoutComponentBase
@inject NavigationManager Nav
@inject FoodDeliveryrestart.Services.AuthState Auth

<header class="topbar">
    <a class="brand" href="/">
        <span class="brand-mark">
            <i class="bi bi-shop"></i>
        </span>
        <span class="brand-text">Food Delivery</span>
    </a>

    <nav class="toplinks">
        <a class="toplink @(IsActive("/") ? "active" : "")" href="/">Home</a>
        <a class="toplink @(IsActive("/restaurants") ? "active" : "")" href="/restaurants">Restaurants</a>
        <a class="toplink @(IsActive("/group-orders") ? "active" : "")" href="/group-orders">Group Orders</a>
    </nav>

    <div class="topicons">
        <a class="iconbtn" href="@ProfileLink" title="Profile">
            <i class="bi bi-person"></i>
        </a>

        <a class="iconbtn" href="/cart" title="Cart">
            <i class="bi bi-cart3"></i>
        </a>
    </div>
</header>

<main class="app-main">
    @Body
</main>

@code {
    private string ProfileLink => Auth.IsLoggedIn ? "/profile" : "/login";

    private bool IsActive(string path)
    {
        var current = Nav.ToBaseRelativePath(Nav.Uri);
        var currentPath = "/" + current.Trim('/');

        if (path == "/")
            return currentPath == "/";

        return currentPath.StartsWith(path.Trim('/'), StringComparison.OrdinalIgnoreCase);
    }
}
<nav class="nav-links">
    <NavLink href="/" class="nav-link">Home</NavLink>
    <NavLink href="/restaurants" class="nav-link">Restaurants</NavLink>
    <NavLink href="/grouporders" class="nav-link">Group Orders</NavLink>
    <NavLink href="/orders" class="nav-link">Orders</NavLink>
    <NavLink href="/grouporders/malls">Group Orders</NavLink>

</nav>
